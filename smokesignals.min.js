(typeof module=="object"?exports:(smokesignals={})).convert=function(c){var f={};c.on=function(d,a){(f[d]||(f[d]=[])).push(a);return c};c.once=function(d,a){function b(){return a.apply(c.off(d,b),arguments)}b.h=a;return c.on(d,b)};c.off=function(d,a){for(var b=f[d],e=0;a&&b&&b[e];e++)if(b[e]==a||b[e].h==a)b.splice(e--,1);e||delete f[d];return c};c.emit=function(d){for(var a=f[d],b=0;a&&a[b];)a[b++].apply(c,a.slice.call(arguments,1));return c};return c};

